<!DOCTYPE html>

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <!--👆👆老UTF-8了-->
    <link rel="icon" href="./haohanyh.png" type="image/png">
    <!--👆👆logo-->
    <title>上传情况|浩瀚银河快视频Web可信解决方案</title>
    <!--👆👆title-->
    <meta name="keywords" content="fsvideo,浩瀚银河快视频Web,浩瀚银河快视频,浩瀚银河,Haohanyh,浩瀚銀河,福州蓝星计划,BlueStarProject,蓝星计划,BlueStar">
    <!--👆👆SEO设置-->
    <script type="text/javascript">
        var msg = document.title;
        msg = "…" + msg;
        pos = 0;

        function scrollMSG() {
            document.title = msg.substring(pos, msg.length) + msg.substring(0, pos);
            pos++;
            if (pos > msg.length) pos = 0
            window.setTimeout("scrollMSG()", 400);
        }
        scrollMSG();
    </script>
    <!--👆👆title滚动js-->
    <style type="text/css" media="screen">
        a:link {
            text-decoration: none;
            /* 指正常的未被访问过的链接*/
        }

        a:visited {
            text-decoration: none;
            /*指已经访问过的链接*/
        }

        a:hover {
            text-decoration: none;
            /*指鼠标在链接*/
        }

        a:active {
            text-decoration: none;
            /* 指正在点的链接*/
        }

        a {
            color: #f39c12;
        }

        a:hover {
            color: rgb(255, 0, 149)
        }
    </style>
    <!--👆👆a标签-->
    <style>
        * {
            box-sizing: border-box;
        }

        .header {
            background-color: #f1f1f1;
            padding: 6.25rem;
            text-align: center;
            padding-top: 0.625rem;
            padding-left: 3.125rem;
        }

        .logo {
            float: left;
        }

        /* 导航条 */
        .topnav {
            overflow: hidden;
            background-color: #333;
        }

        /* 导航链接 */
        .topnav a {
            float: left;
            display: block;
            color: #f2f2f2;
            text-align: center;
            padding: 0.875rem 1rem;
            text-decoration: none;
        }

        /* 链接 - 修改颜色 */
        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }

        /* 右侧栏 */
        .rightcolumn {
            width: 100%;
            background-color: #f1f1f1;
            padding-left: 1.25rem;
        }

        /* 图像部分 */
        .fakeimg {
            background-color: #aaa;
            width: 100%;
            padding: 1.25rem;
        }

        /* 列后面清除浮动 */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* 底部 */
        .footer {
            padding: 1.25rem;
            text-align: center;
            background: #ddd;
            margin-top: 1.25rem;
        }

        /* 创建三个相等的列 */
        .column {
            float: left;
            width: 33.33%;
        }

        /* 响应式布局 - 屏幕尺寸小于 50rem 时，两列布局改为上下布局 */
        @media screen and (max-width: 50rem) {

            .leftcolumn,
            .rightcolumn {
                width: 100%;
                padding: 0;
            }
        }

        /* 响应式布局 - 小于 600 px 时改为上下布局 */
        @media screen and (max-width: 37.5rem) {
            .column {
                width: 100%;
            }
        }

        /* 响应式布局 -屏幕尺寸小于 25rem 时，导航等布局改为上下布局 */
        @media screen and (max-width: 25rem) {
            .topnav a {
                float: none;
                width: 100%;
            }
        }
    </style>
    <!--👆👆布局-->
    <style type="text/css">
        php-upload {
            display: initial;
        }
    </style>
    <!--👆👆PHP上传 已经注释-->
    <style type="text/css">
    .wrapper {
        position: relative;
    }
    
    #input {
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
        z-index: -10;
    }
    </style>
    <!--👆👆复制功能-->
    <script>
        function myFunction1() {
            var text = document.getElementById("waiwang-address-out").innerText;
            var input = document.getElementById("input2000");
            input.value = text; // 修改文本框的内容
            input.select(); // 选中waiwang-address-out文本
            document.execCommand("copy"); // 执行浏览器复制命令
            alert("复制成功外网地址 Copy complete~!");
        }
        function myFunction2() {
            var text = document.getElementById("markdown-out").innerText;
            var input = document.getElementById("input2001");
            input.value = text; // 修改文本框的内容
            input.select(); // 选中markdown-out文本
            document.execCommand("copy"); // 执行浏览器复制命令
            alert("复制成功Markdown Copy complete~!");
        }
        function myFunction3() {
            var text = document.getElementById("bbcode-out").innerText;
            var input = document.getElementById("input2002");
            input.value = text; // 修改文本框的内容
            input.select(); // 选中bbcode-out文本
            document.execCommand("copy"); // 执行浏览器复制命令
            alert("复制成功BBCode Copy complete~!");
        }
        function myFunction4() {
            var text = document.getElementById("share-out").innerText;
            var input = document.getElementById("input2003");
            input.value = text; // 修改文本框的内容
            input.select(); // 选中share-out文本
            document.execCommand("copy"); // 执行浏览器复制命令
            alert("复制成功分享链接 Copy complete~!");
        }
    </script>
    <!--👆👆复制功能-->
</head>
<body>
    <div class="header">
        <div class="logo">
            <a href="https://fsvideo.haohanyh.com">
                <g transform="translate(0,0)" class="logo-group">
                    <g transform="translate(145,64.97999954223633)" class="logo-icon">
                        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet" color-interpolation-filters="sRGB" xmlns:xlink="http://www.w3.org/1999/xlink" width="80" height="80">
                            <svg id="36020e71-8bf7-4473-8765-e61dd9d721f0" data-name="1st tuceng" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500">
                                <defs>
                                    <linearGradient id="172db427-e64d-40c2-9c3d-39510480e8e9" x1="373.51" y1="132.9"
                                        x2="224.25" y2="277.95" gradientUnits="userSpaceOnUse">
                                        <stop offset="0" stop-color="#00cbfd" stop-opacity="0.6"></stop>
                                        <stop offset="1" stop-color="#00cbfd"></stop>
                                    </linearGradient>
                                </defs>
                                <rect x="54.37" y="213.1" width="390.83" height="152.96" rx="76.48" ry="76.48" fill="#0377ff"></rect>
                                <circle cx="191.69" cy="232.81" r="89.98" fill="#0377ff"></circle>
                                <circle cx="298.88" cy="205.42" r="104.07" fill="url(#172db427-e64d-40c2-9c3d-39510480e8e9)"></circle>
                                <path
                                    d="M426.38,73.62A250.11,250.11,0,0,0,174.51,12.15h0a13.62,13.62,0,0,0-1.53.49A14.22,14.22,0,0,0,178,40.15a13.35,13.35,0,0,0,3.49-.44h.06a13.5,13.5,0,0,0,1.7-.55A220.06,220.06,0,0,1,250,28.84c121.94,0,221.15,99.21,221.15,221.17S371.94,471.15,250,471.15,28.85,372,28.85,250A220.62,220.62,0,0,1,101.36,86.39a.6.6,0,0,0,.12-.11c.24-.2.47-.43.71-.64l0,0A14.22,14.22,0,0,0,92.31,61.2a14.06,14.06,0,0,0-8.81,3.06h0a12.46,12.46,0,0,0-1.37,1.24l-.06.06q-4.31,3.9-8.44,8.05A249.44,249.44,0,0,0,426.38,426.39a249.45,249.45,0,0,0,0-352.77Z"
                                    fill="#00cbfd">
                                </path>
                            </svg>
                        </svg>
                    </g>
                </g>
            </a>
        </div>
    </div>
    <div class="php-upload">
        <?php
            {
                //define写写，轻松布局~
                define("AAB", "文件名称已经存在，请改名后上传webm后缀文件。<br>");
                define("AAC", "非法的文件格式,仅限于webm后缀文件。或您还没上传文件。<br>");
                //要记住小可爱们的UA做更完整的数据日志记录哦~
                global $_SERVER;
                $httpuseragent =  $_SERVER['HTTP_USER_AGENT'] . "浏览器标识|";
                //割~~~~~~~~~~~~~~~
                global $ip;
                if (getenv("HTTP_CLIENT_IP"))
                $ip = getenv("HTTP_CLIENT_IP");
                else if(getenv("HTTP_X_FORWARDED_FOR"))
                $ip = getenv("HTTP_X_FORWARDED_FOR");
                else if(getenv("REMOTE_ADDR"))
                $ip = getenv("REMOTE_ADDR");
                else
                $ip = "Unknown";
                //割~~~~~~~~~~~~~~~
                //新时间截定义,基于世界未日2012-12-21的时间戳。
                $endtime = 1356019200;//2012-12-21时间戳
                $curtime = time();//当前时间戳
                $newtime = $curtime-$endtime;//新时间戳
                $rand = rand(0,999);//三位随机
                $datahttpuser .= $_SERVER['HTTP_USER_AGENT'];
                $hash = strtoupper(hash('ripemd128', $uid . $guid . md5($data)));
                $guid = '{' . substr($hash, 0, 8) . '-' .substr($hash, 8, 4) . '-' . substr($hash, 12, 4) . '-' . substr($hash, 16, 4) . substr($hash, 20, 12).'}';
                $all = $rand.$newtime.$datahttpuser;
                $onlyid = base_convert($all,10,36);//把10进制转为36进制的唯一ID
                $onlyid2 = $onlyid.$guid."←用户id|";
                //割~~~~~~~~~~~~~~~
                $time= date('Y-m-d H:i:s',time());
                //割~~~~~~~~~~~~~~~
                $_InternatFILES = $_FILES["file"]["name"];
                $filename = $_InternatFILES;
                $_FILEStype = $_FILES["file"]["type"];
                $allowedExts = array("webm");
                $temp = explode(".", $_FILES["file"]["name"]);
                $extension = end($temp);        // 获取文件后缀名
                $valueall = $time . "←时间|". $onlyid2 . $_InternatFILES . "←文件名字|" . $_FILEStype . "←文件类型" . $ip . "←用户IP地址|" . $httpuseragent ;//把用户id+IP地址+文件名字类型+浏览器情况，整合后存储在valueall
                $valueall2 = $time . "←时间|". $onlyid2 . "←用户id";
                if (($_FILES["file"]["type"] == "video/webm")
                || ($_FILES["file"]["size"] < 2048000)
                && in_array($extension, $allowedExts))
                {
                    echo "上传文件名: " . $_FILES["file"]["name"] . "<br>";
                    echo "文件类型: " . $_FILES["file"]["type"] . "<br>";
                    echo "文件大小: " . ($_FILES["file"]["size"] / 1024) . " kB<br>";
                    // 判断当前目录下的 upload 目录是否存在该文件
                    // 如果没有 upload 目录，你需要创建它，upload 目录权限为 777
                    if (file_exists("upload/" . $_FILES["file"]["name"]))
                    {
                        echo AAB;
                    }
                    else
                    {
                        // 如果 upload 目录不存在该文件则将文件上传到 upload 目录下
                        move_uploaded_file($_FILES["file"]["tmp_name"], "upload/" . $_FILES["file"]["name"]);
                        //割~~~~~~~~~~~~~~~
                        file_put_contents("./log/logupload/up.txt",$valueall . "|分割线|");
                        rename("./log/logupload/up.txt","./log/logupload/$valueall2.txt");
                    }
                }
                else
                {
                    echo AAC;
                }
                //终于到最后了，割~ 
                echo "您此时IP为:" . $ip;
                echo "<br>您此时唯一可识别id为:" . $onlyid2;
            }
        ?>
    </div>
    <div class="row">
        <div class="infomation-in-shuchu">
        <h3>↑您的信息↑(请不要让任何人清楚上面的信息!内容仅用于浩瀚银河的管理和可溯源上传人员)↓输出信息↓(如果上传失败那么信息无效)</h3>
            <div class="column">
                <h2>外网地址输出:(adminer)</h2>
                <div id="waiwang-address">
                    <?php
                        $_InternatFILES = $_FILES["file"]["name"];
                        echo "Url: ";
                        echo "<p id=\"waiwang-address-out\">https://fsvideo.haohanyh.com/upload/$_InternatFILES</p>";
                        echo "<textarea id=\"input2000\" >请点击按钮</textarea>"
                    ?>
                </div>
            </div>
            <div class="column">
                <h2>开发者模式引用:(developer)</h2>
                <?php
                    $_InternatFILES = $_FILES["file"]["name"];
                    echo "Markdown: ";
                    echo "<p id=\"markdown-out\">![video](https://fsvideo.haohanyh.com/upload/$_InternatFILES)</p>";
                    echo "<br>";
                    echo "BBCode: ";
                    echo "<p id=\"bbcode-out\">[url]https://fsvideo.haohanyh.com/upload/$_InternatFILES" . "[/url]</p>";
                    echo "<textarea id=\"input2001\" >请点击按钮</textarea>";
                    echo "<textarea id=\"input2002\" >请点击按钮</textarea>";
                ?>
            </div>
            <div class="column">
                <h2>视频走廊预览:(costumer)</h2>
                <?php
                    $_InternatFILES = $_FILES["file"]["name"];
                    echo "Url: ";
                    echo "<p id=\"share-out\">https://fsvideo.haohanyh.com/files.php?upload#$_InternatFILES</p>";
                    echo "<textarea id=\"input2003\" >请点击按钮</textarea>";
                ?>
            </div>
        </div>
    </div>
    <div class="topnav">
        <button onclick="myFunction1()">外网地址复制按键</button>
        <button onclick="myFunction2()">Markdown复制按键</button>
        <button onclick="myFunction3()">BBCode复制按键</button>
        <button onclick="myFunction4()">分享Share按键</button>
        <a href="https://fsvideo.haohanyh.com" style="float:right">返回主页面</a>
    </div>
    <div class="rightcolumn">
        <div class="card">
            <h3>热门视频推荐</h3>
            <div class="fakeimg">
                <p>敬请期待~</p>
            </div>
            <div class="fakeimg">
                <p>敬请期待~</p>
            </div>
            <div class="fakeimg">
                <p>敬请期待~</p>
            </div>
        </div>
    </div>
</body>
<footer class="footer">
    <p>| <a href="mailto:lmj-mc@outlook.com">联系我们</a> | <a href="https://github.com/Hny0305Lin/Fast-video-haohanyh">Github开源工程</a> | <a href="https://gitee.com/blue-star-project/Fast-video-haohanyh">Gitee开源工程</a> |</p>
    <p>| 视频一经上传，视为认同审阅视频和遵守中国大陆和中国港澳台地区相关法律，一旦发现违规，下架视频源文件+封禁IP+联络网络警察报警（12377国内举报平台、香港999报警、澳门和台湾110报警（涉嫌危害香港澳门的视频内容）） |</p>
</footer>